const input = `...............#...#..#...#....
...#....##.....##...######..#..
....#.....#.##..#...#..#.......
...#..........#.#....#......#..
....#.#...#.#.......#......##.#
....#.#..........#.....#.##....
##...#.#.##......#......#.#.#..
#.#.#........#....#..#.#.......
..#...##..#..#.......#....###..
.#.#..........#...#........#..#
.#..#......#....#.#...#...#.#.#
..#.........#..##.....#.#.##.#.
.#......#...#....#.....#......#
........#..##..##.........#..#.
.....#....###..#....##........#
.###...#..##..#.##......##...##
.#...#...#..#.#..#...##.....#..
.......#....#....#.#...#.......
.##.......#.##...#.#...#..#....
#.#...#......#....#.......#....
..###...............####...#.#.
.##.#....#......#..#...#.#..#.#
.............#.#.#......##.....
#....#.#.#........#....##...#..
...##....##...##..#...#........
..##......#...#......#...###...
...#...##......##.#.#..#.......
#......#..#...#.#..#......#..##
.#..#..#........##....##.......
.#...........###.###.##...#....
............#.#...........#.#..
#...#........#...#...#..#.#.#.#
...#.......#.#.#..#.#..........
......#..#..#....##..##..##....
........##...#......#..#.#.....
..#.#.......#......#...........
#.#.....#......##..........#.#.
#.....###.#...#...#..#....#...#
.##.#...#............##.....#..
###....#.#.....#.......##......
##.......##.....#..#...#..##.##
....#.##............###...#..##
.###..#...##.#..#..##..#.......
.##.##..####.....#.........#...
....####..#...#....#.#...#.....
..##....#..#......#...........#
..........#......#..##.......#.
.................#.#.#........#
#.......##.#...##.......##.##..
.#................#.#.....##..#
......#..#............##.#.....
...##............#.....#.....#.
##.###.#.......#....#.........#
......#.....#.#.#.#......#.....
......#.##......#......##......
..#....#...#..#.....#..#....#.#
.#.##.##.....#.......#.......#.
...#..#.#......##....##..#.....
.#.....#......##...#..#.#....#.
..#......#....#..#..###.#.#....
.....#........#.#...#..#.#.....
....#.#.......#...##.....####..
#..#..##...#...........#...#..#
.#..#...#.....#.....#.#.....#.#
..##..###.....#...#.#.#.......#
#..##.##......###..#......###..
#..#...#.......#....#.#...#.#.#
...........###..#...#..##....#.
.....#...........###.......#...
##......#.......#......##.#..#.
#.................#........#...
#.#.............#......#...#..#
......#.#....#....#....#....#.#
..#...#....#..#....#....#..#...
#....#......#..#...#..#....#.#.
..#.....#..#...#...#.......#...
.#........###..##.#..#.........
.....##.#.....#..###..#........
...#...#.###....######......#..
.###.#..#.....#.....#..#...#...
##..#.#......#.........#...#..#
###...##..###.......#..##.#.#.#
.#...................#..#...##.
.#...#...###...#.......#......#
....#.....##....#...##.#...#.##
..#....#......#...#..###.......
.........#..........##........#
...#.........##..#....#..###...
......#.##....#.#........#.#.##
....#..#...#.............#....#
#..#.....#.#.....#....#........
....#..#...####.#.###..#.......
.....#....#....#..#..#.#.....#.
#..##....#.....#.#.............
.##...#..#.......#...##.###....
##......#...##....#......##....
#......#.#......#.#..#......#..
.#...#......#............###..#
.#..#.#.....#.#.....#..#....#..
.#............#...#..#..#...##.
...#...#....#.#.#....#....#....
........#......###.#....##.##.#
......#.#..................##..
..#..#........#..##..........##
.#...#.#....#####.#.#..#.......
.....#..#.#..#.....#.#........#
#.#..#..#.#..........#..#..#...
.##........#.#.......#........#
.....#....#..##...#......##....
....#.##.##...##.#.........#.#.
...#...#..#.#.......#.......#..
.................##..#.........
..##.##....#...#.##.......#..#.
....#...........#.....###....##
.#..................#..........
....#.##....#......##.#..#.##.#
#......#..#.#....##...####...#.
#.....#.#.##...........#.##...#
.......#...##..#.........##....
.#...#..........##......#..#.#.
#...#.#......#.....#........#..
........#.....#.......##......#
.#..#...........#...#..#..#....
......#.##......##.#......#..##
......#....#..#................
##.#.......#......#..#....##.##
..#...###..#.......#...#.#....#
.....#...#.........#.....#..#.#
..#.....#.........#..#...#.#...
.#.........##..#.#...#.....##..
..........#.#.#...#....#....#..
....#.###.#..#..#..#.#........#
..#...##...##.#.#.....#.#..##..
.#..#......#.####..#.......#..#
##.......#.....#.#.#..#...##..#
.##......##...##.........#..#..
..#.##..#......#......#..#..#..
..#..#.##..#........#....#.#...
##.####...##.#..##.........#..#
.#.......#.#..#.....#.##.......
........#.........#...........#
..#...#.####.....##.##.#....#.#
.....#..##.#..###.##.#.#...#...
#..##..##....#...#....#...#....
.###.#....#..#.......#......###
.#....##.....#.#........#...#.#
#.#.#..#..#...#....#..#.....#..
....##...#.##..#............#..
##......###...#...#...#....#...
#.#...#.#..#..##.##..##..#....#
.#...#.#....#..##.#..##..#.....
.............#..#..#.#.....#...
#........#..........#....###...
..#..#......#...#........#.....
.#..#.............#.........#..
#.....#....##..#..#.#.#..#.....
...#......#.........#.#....##.#
..#.......##....###..#.........
.#.......#......#..............
.#...##.....##...###.#....#.#..
......#....#.........#.......#.
##.......#..##....###.#.....##.
.....#......####.....#......#..
....#....#..###....#.....##...#
...#...#.#........#.....#..#.##
#..#....#.#...###...##.....##..
#.....##...#.#............#....
##....#.......#.#.#....#.#.###.
#........#...#...####.#....#.#.
.##.#......#........#..#.....#.
...##.#.......#...#.#.##..#...#
......#.........##..#....#.....
.#......#...........#......#...
......#.#.#.#..#.#....#....#..#
##.................##...#.#....
........#.........#..#..#...###
.#........#........#....#..#...
....###.##.##......#.#...#....#
#......#.#..............#......
.......#..#....#..##.........#.
#............#....#............
#...#.#.........##..###...##...
.#....#.#.#.....#..#..##.......
.............##.#.#.......#..#.
#...#..##.#..###.....##..#.....
...#.#.....#...#......##.#..#..
#..........#.##.#...#...#.#...#
...#.#...#.........#.#..#.#..#.
#....#.................#.......
..#..#.#.#..#.#..##...#.#......
..#....#.#.#...#.....#...#.....
#...#.###......#.......#..#..#.
#.#.##.##..............#.#.#..#
#..........#.#.........#.###...
...........#.......#.#..#......
....#.#..#....#....#....##.....
#..#...##########.........#.#..
..#.............##........#.#..
#.#.##......#...#.#....##..##..
..##..#.#.#....#......#.#..#.#.
.#.#...#................#......
#...#...#.....##.#...#.......#.
.....##.......#...#......#.##..
....#.##..........#.#.##....##.
...........##........#.#.#.#...
..#...........###.#....#..#....
..#.#...#...#.#........#.....#.
.##......##.....#........#.....
....#.......#....#...#.##...#..
.#.....##.....#...##...........
#....#.##.##...#...###.#####...
..#.#......#.#.......#....#..#.
..........#...#...........#....
.........#..#...#...#......#.##
.#...#.#...#.###.##..#........#
#....#.....#.......##....#.....
#.....#..#.....#...##.......#..
#.#.#.#.............#.....#...#
...#.....#.....#...............
..##.###.#.#........#.........#
...##..#.##..#....#.#...#.#....
...##...#...##.#.........#.#..#
.###......#....#.........#.#...
###.#.#...#.......#...#.....#.#
...#.#.......#.....####........
......#..#.....###.#....#..#...
..####...#...#..#......#...#...
#..............##....#......##.
..##..###...##..#.#.........#..
#..#.#...#.......#.........##..
..##....#......#...#..##.......
..#.#..#..###.....#.....#...###
.#..#.##.....##.#.#.#........#.
..#.#.........#................
..#...........#.#...##.#...#..#
.....#........#..#.....#....#..
#.#....#...........##.....#..##
##.......#.....#.....#.#......#
.##............####.#........##
....##.#.....#......#....#...#.
.#.#...##.#..##..#..........#..
..........................#....
##..##..#..#.#....#.....#......
...#.#........#.#.##.#.....#..#
#..#....#...#..#...#........#.#
#.......#####...#..#..#.#......
#.##....#......#......#..###...
..#.......#...........#.....##.
#...#....#..#......##...#......
...##.#..##........#..###......
##.#...........#.............##
#.....#..#.....#.....#.........
.#..........#..#......###......
...#...#..##.......#...#...#.#.
..####......#.....#..#.#......#
....#..#.....#.#...............
.#.......#....#.....#..##....#.
.....#.........#..........##...
#...........#..#.....#........#
............#..##...#...#.#....
##.............####...#.....#..
.....#......#....##.#.....##...
...........#.....#.#..#.#......
.#.#......#....#.............##
##...#.#.......##........#.....
#..#.....#.#.......####...#..#.
....#.#...#....#.###..#..#.#...
.....#.#..#......#.##.#####.#..
.....#....##..........#......#.
#.......#........##.......##...
#...#..#..##.#....#...#...#....
...#..##..#...#..........#.....
#..#....###.....#......##......
...###......#.....#....#.......
#.#...#.#..###.####.......#.#.#
...#......#.#..##..#.....#.....
#.#............#.....##.#......
#..#......##...##..#...#.#..###
#.....#...#..#..#....#..###....
####..###....#..##....#..#.....
..##.#.....#.......##....#.#.#.
##..#.#.......#.#...##.#..#.#..
..#.#.#.##.#.#.#...........#...
...#.##.....#....#..#.#..#.....
...#..#.........#..........#..#
#...#..#.....#.#.#.............
##.#....##.##...#...#..#..#..#.
....####..##..##.#..#...##.....
##.....##.#.#...#.#.......###..
#..#.#....#......#.......##...#
#.#...............#..#..#......
.....##...##..#........#......#
.#..#............##......#....#
......#.#..#..##.#......#.....#
..#.#.............#...#......##
....#.#..#..#...##...#..##.....
#.#.............#...#.#..#....#
#..#..#.##....#....#...#.......
....#..#..........#.....##...#.
..#####.......#...#..........#.
....#......##.......#..##.#.#.#
#...#.#.....#....#....##.......
..##.#.#..#.#...#.....##.....#.
#.#..#....#............#..#.#..
...#.##..##..#.#...###......#.#
......##.......#....#......###.
....#..##.......#..#.#....#..#.
#............#..........##..#.#
..#.....#..#.#..##..#....##.#..
.....#.....#....##.#.#......#.#
...####.......###..#...#.#....#
.#.##.....##.....##..#..#......
...#..###..##..................
##..##.....#.#..#..#.#........#
.#.#........##.........#....#..
........#......###....#...#....
......#...........#...........#
.#...###...#.........#.#...#..#
.....#..........#......##....#.
.#.#...#........##.......#.#...
.....##.....##....#...#...#..#.
..#.....................##...##
#..#.#......##...##..#......#..`;

const routes = [
    [1, 1],
    [3, 1],
    [5, 1],
    [7, 1],
    [1, 2],
];

function treeEncounterCounter(input, xIncrement, yIncrement) {
    const inputLines = input.split("\n");
    let lastXPosition = 0;
    let treesEncountered = 0;
    let lineLength = inputLines[0].length;

    for (let i = yIncrement, len = inputLines.length; i < len; i += yIncrement) {
        const line = inputLines[i];
        let newXPosition = lastXPosition + xIncrement;
        if (newXPosition > lineLength - 1) {
            newXPosition = newXPosition - lineLength;
        }

        if (line[newXPosition] === '#') {
            treesEncountered++;
        }

        lastXPosition = newXPosition;
    }

    return treesEncountered;
}

function multiRouteTreeEncounterCounter(input, routes) {
    let treeCounts = [];
    for (route of routes) {
        const count = treeEncounterCounter(input, route[0], route[1]);
        treeCounts.push(count);
    }
    const multipliedTotal = treeCounts.reduce((total, currentNumber) => total * currentNumber);
    return multipliedTotal;
}

multiRouteTreeEncounterCounter(input, routes);
